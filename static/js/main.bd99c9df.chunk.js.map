{"version":3,"sources":["components/ScheduleLoader.js","components/Board/Head.js","components/Board/Row.js","components/App.js","index.js"],"names":["ScheduleLoader","state","appts","curAppt","contents","openFilePicker","a","window","showOpenFilePicker","multiple","fileHandle","getFile","file","text","content","setState","console","error","name","message","extractScheduleArray","wholeStr","removeTags","normalizedStr","replace","arr","split","mapScheduleArray","renderSchedule","scheduleArray","lastNameNext","firstNameNext","descriptionNext","appointments","cur","forEach","val","test","isPhoneNumber","lastName","firstName","description","time","slice","phone","fieldsFull","push","log","formatFutureAppt","appt","FName","FDoctor","FTime","FDescription","obj","isFull","map","index","key","props","setParentState","className","onClick","this","React","Component","str","toString","Head","renderHead","Row","renderTableRows","App","setScheduleState","newArr","concat","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.bd99c9df.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nclass ScheduleLoader extends React.Component {\r\n\r\n    state = {\r\n        appts:[],\r\n        curAppt: {},\r\n        contents: ''\r\n    }\r\n\r\n    openFilePicker = async () => {\r\n        let fileHandle, file, content;\r\n        try {\r\n            [fileHandle] = await window.showOpenFilePicker({ multiple: true });\r\n            file = await fileHandle.getFile();\r\n            content = await file.text();\r\n            this.setState({contents: content});\r\n        }\r\n        catch (err) {\r\n            console.error(err.name, err.message);\r\n        }\r\n    }\r\n\r\n    extractScheduleArray = async () => {\r\n        let wholeStr, normalizedStr, arr;\r\n        if (this.state.contents) {\r\n            wholeStr = removeTags(this.state.contents);\r\n            normalizedStr = wholeStr.replace( /\\n/g, \" \" );\r\n            arr = normalizedStr.split('BUFFER_ZONE_7');\r\n            await this.mapScheduleArray(arr);\r\n            this.renderSchedule();\r\n        }\r\n    }\r\n\r\n    mapScheduleArray = (scheduleArray) => {\r\n        let \r\n            lastNameNext=false, \r\n            firstNameNext=false,\r\n            descriptionNext=false,\r\n            appointments = [],  \r\n            cur = {};\r\n    \r\n        scheduleArray.forEach(val => {\r\n    \r\n            // Tests for having at least one character or is phone number\r\n            if (/([a-zA-Z])+([ -~])*/.test(val) || isPhoneNumber(val)) {\r\n                if (lastNameNext ) {\r\n                    cur.lastName= val;\r\n                    lastNameNext = false;\r\n                } else if (firstNameNext) {\r\n                    cur.firstName= val;\r\n                    firstNameNext = false;\r\n                } else if (descriptionNext) {\r\n                    cur.description = val;\r\n                    descriptionNext = false;\r\n                } else if (/^([0-1]?[0-9]|2[0-3]):[0-5][0-9][a-z]$/.test(val)) { // Tests for time format\r\n                    cur.time = val.replace(':','').slice(0,-1);\r\n                    firstNameNext = true;\r\n                } else if (isPhoneNumber(val)) {\r\n                    cur.phone = val;\r\n                    firstNameNext = true;\r\n                } else if (val === 'CANINE' || val === 'FELINE') {\r\n                    descriptionNext = true;\r\n                } else if (val.slice(0,2) === 'RM') {\r\n                    lastNameNext = true;\r\n                }\r\n                if (this.fieldsFull(cur)) {\r\n                    appointments.push(cur);\r\n                    cur = {};\r\n                }\r\n            }\r\n        });\r\n        this.setState({appts:appointments});\r\n        console.log(appointments);\r\n    }\r\n\r\n    formatFutureAppt = (appt) => {\r\n        return {\r\n            FName: appt.firstName + ' ' + appt.lastName.split(',')[0],\r\n            FDoctor: '',\r\n            FTime: appt.time,\r\n            FDescription: appt.description,\r\n        }\r\n    }\r\n\r\n    fieldsFull = (obj) => {\r\n        let isFull = false;\r\n        if (obj.lastName && obj.firstName && obj.description && obj.time && obj.phone) {\r\n            isFull= true;\r\n        }\r\n        return isFull;\r\n    }\r\n\r\n    renderSchedule = () => {\r\n        const appointments = this.state.appts.map((appt, index) => {\r\n            return {\r\n                name: appt.firstName + ' ' + appt.lastName.split(',')[0],\r\n                time: appt.time,\r\n                description: appt.description,\r\n                phone: appt.phone,\r\n                key: index\r\n            }\r\n        });\r\n        this.props.setParentState(appointments);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <button className=\"ui button primary\" onClick={this.openFilePicker}>Open File</button>\r\n                <button className=\"ui button secondary\" onClick={this.extractScheduleArray}>Load Schedule</button>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\n// Removes HTML tags from str, replaces with \"BUFFER_ZONE_7\"\r\nconst removeTags = (str) => {\r\n    if ((str===null) || (str==='')) return false;\r\n    else str = str.toString();\r\n    return str.replace( /(<([^>]+)>)/ig, 'BUFFER_ZONE_7');\r\n}\r\n\r\n// Returns true if str is phone number format\r\nconst isPhoneNumber = str => /^(\\+\\d{1,2}\\s)?\\(?\\d{3}\\)?[\\s.-]\\d{3}[\\s.-]\\d{4}$/.test(str);\r\n\r\nexport default ScheduleLoader;\r\n","import React from 'react';\r\n\r\nclass Head extends React.Component {\r\n\r\n    renderHead = () => {\r\n        return (\r\n            <thead>\r\n                <tr>\r\n                    <th>Spot</th>\r\n                    <th>Name</th>\r\n                    <th>Dr</th>\r\n                    <th>Time</th>\r\n                    <th>Tech</th>\r\n                    <th>Rm</th>\r\n                    <th>Description</th>\r\n                </tr>\r\n           </thead>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        return this.renderHead();\r\n    }\r\n}\r\n\r\n\r\nexport default Head;","import React from 'react';\r\n\r\nimport'../../styles/Board.css';\r\n\r\n\r\nclass Row extends React.Component {\r\n\r\n    renderTableRows = () => {\r\n        const appts = this.props.appts;\r\n        if (!appts) return null; \r\n        const scheduleRows = appts.map(appt => {\r\n            console.log(`appt: ${appt}`);\r\n            return (\r\n                <tr key={appt.index}>\r\n                    <td>_</td>\r\n                    <td>{appt.name}</td>\r\n                    <td>_</td>\r\n                    <td>NEED</td>\r\n                    <td>_</td>\r\n                    <td>{appt.time}</td>\r\n                    <td>{appt.description}</td>\r\n                </tr>\r\n            );\r\n        });\r\n        return scheduleRows;\r\n\r\n    }\r\n\r\n    render() {\r\n        return this.renderTableRows();\r\n    }\r\n}\r\n\r\n\r\nexport default Row;","import React from 'react';\r\nimport ScheduleLoader from './ScheduleLoader';\r\nimport Head from './Board/Head';\r\nimport Row from './Board/Row';\r\n\r\nclass App extends React.Component {\r\n    state = {\r\n        scheduleArray: []\r\n    }\r\n\r\n    setScheduleState = scheduleArray => {\r\n        const newArr = this.state.scheduleArray.concat(scheduleArray);\r\n        this.setState({scheduleArray: newArr});\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <div className=\"ui form container\">\r\n                    <ScheduleLoader setParentState={this.setScheduleState}/>\r\n                </div>\r\n                <table>\r\n                    <Head/>\r\n                    <tbody>\r\n                        <Row appts= {this.state.scheduleArray}/>\r\n                    </tbody>\r\n                </table>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport App from './components/App';\r\n\r\nReactDOM.render(\r\n    <App/>,\r\n    document.querySelector('#root')\r\n);"],"sourceRoot":""}